all:
  children:
    app_servers:
      hosts:
        app_vm:
          ansible_host: "{{ lookup('env', 'APP_VM_IP') | default('REPLACE_WITH_APP_VM_IP', true) }}"
          ansible_user: azureuser
          ansible_ssh_private_key_file: ~/.ssh/azure_sms_rsa
    
    monitoring_servers:
      hosts:
        monitor_vm:
          ansible_host: "{{ lookup('env', 'MONITOR_VM_IP') | default('REPLACE_WITH_MONITOR_VM_IP', true) }}"
          ansible_user: azureuser
          ansible_ssh_private_key_file: ~/.ssh/azure_sms_rsa
  
  vars:
    ansible_python_interpreter: /usr/bin/python3
    db_host: "{{ lookup('env', 'DB_HOST') | default('REPLACE_WITH_DB_HOST', true) }}"
    db_name: sms
    db_user: "{{ lookup('env', 'DB_USER') | default('smsadmin', true) }}"
    db_password: "{{ lookup('env', 'DB_PASSWORD') | default('ChangeMe123!Strong', true) }}"
    jwt_secret: "{{ lookup('env', 'JWT_SECRET') | default('super-secret-change-me-please-1234567890abcdef', true) }}"
